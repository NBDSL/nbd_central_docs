

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Minimization in Pele++ control file &mdash; NBD Docs 1.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> NBD Docs
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../databases/index.html">Compound DataBases</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Software</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../compute_power/index.html">IT infrastructure</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../papers/index.html">Articles</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">NBD Docs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
      <li>Minimization in Pele++ control file</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/software/pele/Minimization/Minimization.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="minimization-in-pele-control-file">
<span id="sec-minimization"></span><h1>Minimization in Pele++ control file<a class="headerlink" href="#minimization-in-pele-control-file" title="Permalink to this headline">¶</a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">&quot;Minimizer&quot;</span></code> block in a <code class="docutils literal notranslate"><span class="pre">peleSimulation</span></code> command configures the final minimization of the relaxation phase. This block also configures the minimization in a <code class="docutils literal notranslate"><span class="pre">minimization</span></code> command. In a <code class="docutils literal notranslate"><span class="pre">peleSimulation</span></code>, this phase will be active if either the side chain prediction phase is active, or if the <code class="docutils literal notranslate"><span class="pre">minimizationFrequency</span></code> PELE parameter says so (see <a class="reference internal" href="../PELE/PeleParameters.html#sec-peleparameters-minimizationfrequency"><span class="std std-ref">minimizationFrequency</span></a>). In particular, every time a side chain prediction is performed, a final minimization also happens; besides, every <code class="docutils literal notranslate"><span class="pre">minimizationFrequency</span></code> steps, a minimization is performed (if it is also a step where the side chain prediction is performed, only one minimization, after the prediction, is executed).</p>
<p>There also exist minimization blocks for the minimizers used in the ANM phase (<a class="reference internal" href="../ANM/Anm.html#sec-anm"><span class="std std-ref">ANM Block in Pele++ control file</span></a>) and in the Side Chain Prediction phase (<a class="reference internal" href="../SideChainPrediction/SideChainPrediction.html#sec-sidechainprediction"><span class="std std-ref">SideChainPrediction Block in Pele++ control file</span></a>), where they are respectively called <code class="docutils literal notranslate"><span class="pre">&quot;anmMinimizer&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;sideChainMinimizer&quot;</span></code>. Unless noted, all parameters shown below can also be used when configuring those minimizers. The default values shown below correspond to the <code class="docutils literal notranslate"><span class="pre">&quot;Minimizer&quot;</span></code> block; see the ANM and Side Chain Prediction manual pages for the defaults used in their corresponding minimizers.</p>
<p>In the minimization phase of a PELE simulation, the following will be minimized:</p>
<ul class="simple">
<li><p>if <code class="docutils literal notranslate"><span class="pre">minimizationRegionRadius</span></code> (<a class="reference internal" href="../PELE/PeleParameters.html#sec-peleparameters-minimizationregionradius"><span class="std std-ref">minimizationRegionRadius</span></a>) is not zero, then the perturbed links and the links that are at most <code class="docutils literal notranslate"><span class="pre">minimizationRegionRadius</span></code> <span class="math notranslate nohighlight">\(\AA{}\)</span> away from them.</p></li>
<li><p>the <em>top side links</em>, which are those links that worsen their energy the most between the beginning of a PELE step and the end of the perturbation and ANM phase. The number of these links is selected by the PELE parameter <code class="docutils literal notranslate"><span class="pre">numberOfTopSideSelectedLinks</span></code> (<a class="reference internal" href="../PELE/PeleParameters.html#sec-peleparameters-numberoftopsideselectedlinks"><span class="std std-ref">numberOfTopSideSelectedLinks</span></a>). Also the links that are at most <code class="docutils literal notranslate"><span class="pre">topSideRadius</span></code> <span class="math notranslate nohighlight">\(\AA{}\)</span> away from the <em>top side links</em> (<a class="reference internal" href="../PELE/PeleParameters.html#sec-peleparameters-topsideradius"><span class="std std-ref">topSideRadius</span></a>) will be included.</p></li>
<li><p>those atoms selected in <code class="docutils literal notranslate"><span class="pre">includeInMinimization</span></code> (<a class="reference internal" href="#sec-minimization-includeinminimization"><span class="std std-ref">includeInMinimization</span></a>).</p></li>
<li><p>removing, from all the atoms previously selected, those atoms in <code class="docutils literal notranslate"><span class="pre">doNotIncludeInMinimization</span></code> (<a class="reference internal" href="#sec-minimization-donotincludeinminimization"><span class="std std-ref">doNotIncludeInMinimization</span></a>).</p></li>
</ul>
<p>Besides the permanent constraints (<a class="reference internal" href="../PermanentConstraints/PermanentConstraints.html#sec-permanentconstraints"><span class="std std-ref">Permanent constraints in Pele++ control file</span></a>), the following constraints are considered during the minimization phase of a PELE simulation:</p>
<ul class="simple">
<li><p>Constraints on ANM nodes (see <a class="reference internal" href="../ANM/Anm.html#sec-anm-relaxationspringconstant"><span class="std std-ref">relaxationSpringConstant</span></a>).</p></li>
<li><p>If the perturbation is active, constraints on the perturbed atoms to their center of mass (see <a class="reference internal" href="../PELE/PeleParameters.html#sec-peleparameters-perturbationcomconstraintconstant"><span class="std std-ref">perturbationCOMConstraintConstant</span></a>).</p></li>
</ul>
<div class="section" id="algorithm-selection">
<h2>Algorithm selection<a class="headerlink" href="#algorithm-selection" title="Permalink to this headline">¶</a></h2>
<div class="section" id="algorithm">
<h3>algorithm<a class="headerlink" href="#algorithm" title="Permalink to this headline">¶</a></h3>
<p>Use: It sets the minimization algorithm that will be used.</p>
<p>Possible options:</p>
<ul class="simple">
<li><p>“TruncatedNewton”: Newton’s method minimizes <span class="math notranslate nohighlight">\(Q(x_1,\ldots,x_n) \simeq F(x_1,\ldots,x_n)\)</span>, where Q is a quadratic function. Truncated Newton
consists of two sub-algorithms, the first one controlling the entire
minimization and the second one iteratively minimizing Q.</p></li>
<li><p>“ConjugatedGradient”: Minimizes the energy using the
conjugated-gradient algorithm.</p></li>
<li><p>“SteepestDescent”: Minimizes the energy using the steepest-descent
method.</p></li>
</ul>
<p>Default value: “TruncatedNewton”</p>
</div>
</div>
<div class="section" id="selection-of-links-to-minimize">
<h2>Selection of links to minimize<a class="headerlink" href="#selection-of-links-to-minimize" title="Permalink to this headline">¶</a></h2>
<p>These selection options appear at the peleSimulation level. Example:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span>&quot;commands&quot; : [
   {
      &quot;commandType&quot; : &quot;peleSimulation&quot;,
      &quot;selectionToPerturb&quot; : {
         &quot;chains&quot; : {
            &quot;names&quot; : [ &quot;L&quot; ]
         }
      },
      &quot;PELE_Output&quot; : {
      ...
      },
      &quot;PELE_Parameters&quot; : {
      ...
      },
      &quot;includeInMinimization&quot;: { &quot;chains&quot; : &quot;all&quot; },
      &quot;doNotIncludeInMinimization&quot;: { &quot;chains&quot;: { &quot;names&quot; : [&quot;A&quot;] }},
      &quot;Minimizer&quot; : {
         ...
      }
      ...
   }
 ]
</pre></div>
</div>
<div class="section" id="includeinminimization">
<span id="sec-minimization-includeinminimization"></span><h3>includeInMinimization<a class="headerlink" href="#includeinminimization" title="Permalink to this headline">¶</a></h3>
<p>Use: Selection string used to select the atoms to which the minimization
is going to be performed. Make sure this parameter does not interfere
with the minimizationRegionRadius PELE parameter
(<a class="reference internal" href="../PELE/PeleParameters.html#sec-peleparameters"><span class="std std-ref">PeleParameters</span></a>).</p>
<p>You can find examples of selections in (<a class="reference internal" href="../Selections/SelectionExamples.html#sec-selectionexamples"><span class="std std-ref">Selection
Examples</span></a>).</p>
<p>Parameter: Selector * doMinimizeSelector</p>
<p>Default value: Select the whole system (equivalent to ‘{“chains”:
“all”}’).</p>
</div>
<div class="section" id="donotincludeinminimization">
<span id="sec-minimization-donotincludeinminimization"></span><h3>doNotIncludeInMinimization<a class="headerlink" href="#donotincludeinminimization" title="Permalink to this headline">¶</a></h3>
<p>Use: Selection string used to select the atoms that will be frozen
during the minimization.</p>
<p>Notice that doNotIncludeInMinimization prevails over
includeInMinimization, i.e. if an atom or link is selected by both
selection, it will be omitted. Therefore, check it does not deselects
the whole system.</p>
<p>You can find examples of selections in (<a class="reference internal" href="../Selections/SelectionExamples.html#sec-selectionexamples"><span class="std std-ref">Selection Examples</span></a>).</p>
<p>Parameter: Selector * doNotMinimizeSelector</p>
<p>Default value: The empty selection (equivalent to ‘“empty”’).</p>
</div>
</div>
<div class="section" id="parameters">
<span id="sec-minimization-parameters"></span><h2>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h2>
<div class="section" id="energydifference">
<h3>EnergyDifference<a class="headerlink" href="#energydifference" title="Permalink to this headline">¶</a></h3>
<p>Parameter: double energyTol</p>
<p>Use: Used as a convergence criterion in the different minimization
algorithms.</p>
<p>Note for developers: Used in ConjugatedGradient::minimize,
SteepestDescent::minimize and
TruncatedNewton::runMinimizationIterations.</p>
<p>Units: kCal/mol</p>
<p>Range: [0, inf)</p>
<p>Default value: 1.0</p>
<p>Plop info: Not accessible from control file (hardcoded).</p>
</div>
<div class="section" id="minimumrms">
<h3>MinimumRMS<a class="headerlink" href="#minimumrms" title="Permalink to this headline">¶</a></h3>
<p>Parameter: double rmsMin</p>
<p>Use: Used as a convergence criterion in the different minimization
algorithms.</p>
<p>Note for developers: Used in ConjugatedGradient::minimize,
SteepestDescent::minimize and TruncatedNewton::hasOuterLoopConverged.</p>
<p>Units: <span class="math notranslate nohighlight">\((\text{kCal}/\text{mol}/\AA{})^2\)</span></p>
<p>Range: (0, inf)</p>
<p>Default value: 0.1</p>
<p>Plop info:</p>
<ul class="simple">
<li><p>Plop control file name: ‘rmsg’</p></li>
<li><p>Plop parameter name: min_params%rmsmin</p></li>
<li><p>Plop default value: 0.001</p></li>
</ul>
</div>
<div class="section" id="maximumminimizationiterations">
<h3>MaximumMinimizationIterations<a class="headerlink" href="#maximumminimizationiterations" title="Permalink to this headline">¶</a></h3>
<p>Parameter: unsigned int iterMax</p>
<p>Use: Used as a convergence criterion in the different minimization
algorithms.</p>
<p>Note for developers: Used in ConjugatedGradient::minimize,
SteepestDescent::minimize and
TruncatedNewton::runMinimizationIterations.</p>
<p>Units: Dimensionless</p>
<p>Range: [0, inf)</p>
<p>Default value: 3</p>
<p>Plop info:</p>
<ul class="simple">
<li><p>Plop control file name: ‘iter’</p></li>
<li><p>Plop parameter name: min_params%iter_max</p></li>
<li><p>Plop default value: 3</p></li>
</ul>
</div>
</div>
<div class="section" id="truncated-newton-parameters">
<h2>Truncated Newton Parameters<a class="headerlink" href="#truncated-newton-parameters" title="Permalink to this headline">¶</a></h2>
<div class="section" id="maximumnewtoniterations">
<h3>MaximumNewtonIterations<a class="headerlink" href="#maximumnewtoniterations" title="Permalink to this headline">¶</a></h3>
<p>Parameter: unsigned int maximumNewtonIterations</p>
<p>Use: Number of times that the outer loop is going to be run.</p>
<p>Note for developers: Used in TruncatedNewton::runOuterLoop</p>
<p>Units: Dimensionless</p>
<p>Range: [0, inf)</p>
<p>Default value: 65</p>
<p>Plop info:</p>
<ul class="simple">
<li><p>Plop control file name: ‘mxitn’</p></li>
<li><p>Plop parameter name: min_params%mxitn</p></li>
<li><p>Plop default value: 65</p></li>
</ul>
</div>
<div class="section" id="nonbondinglistupdatedeachminstep">
<h3>nonBondingListUpdatedEachMinStep<a class="headerlink" href="#nonbondinglistupdatedeachminstep" title="Permalink to this headline">¶</a></h3>
<p>Parameter: bool updateNblist</p>
<p>Use: Controls whether the NB list is updated after each minimization
step or not.</p>
<p>Note for developers: Used in
TruncatedNewton::revertToPreviousValidStateInCaseOfMinimizationFailure,
TruncatedNewton::prepareOuterLoopNextIteration and
TruncatedNewton::runOneIteration.</p>
<p>Units: Dimensionless</p>
<p>Range: True or false</p>
<p>Default value: true</p>
<p>Plop info:</p>
<ul class="simple">
<li><p>Plop control file name: ‘nbup’</p></li>
<li><p>Plop parameter name: min_params%update_nblist</p></li>
<li><p>Plop default value: True</p></li>
</ul>
</div>
<div class="section" id="alphaupdated">
<h3>alphaUpdated<a class="headerlink" href="#alphaupdated" title="Permalink to this headline">¶</a></h3>
<p>Parameter: bool updateAlpha</p>
<p>Use: Controls whether the Born alpha radius is updated after each
minimization step or not.</p>
<p>Note for developers: Used in TruncatedNewton::runOneIteration and
TruncatedNewton::revertToPreviousValidStateInCaseOfMinimizationFailure.</p>
<p>Units: Dimensionless</p>
<p>Range: True or false</p>
<p>Default value: false</p>
<p>Plop info:</p>
<ul class="simple">
<li><p>Plop control file name: ‘alphaup’</p></li>
<li><p>Plop parameter name: min_params%update_alpha</p></li>
<li><p>Plop default value: False</p></li>
</ul>
</div>
<div class="section" id="sgbupdated">
<h3>sgbUpdated<a class="headerlink" href="#sgbupdated" title="Permalink to this headline">¶</a></h3>
<p>Parameter: bool updateSgb</p>
<p>Use: Controls whether SGB cell list is updated after each minimization
step or not.</p>
<p>Note for developers: Used in TruncatedNewton::runOneIteration and
TruncatedNewton::revertToPreviousValidStateInCaseOfMinimizationFailure.</p>
<p>Units: Dimensionless</p>
<p>Range: True or false</p>
<p>Default value: true</p>
<p>Plop info:</p>
<ul class="simple">
<li><p>Plop control file name: ‘gbup’</p></li>
<li><p>Plop parameter name: min_params%update_sgb</p></li>
<li><p>Plop default value: True</p></li>
</ul>
</div>
<div class="section" id="iterationsbetweennblistlongupdate">
<h3>iterationsBetweenNBlistLongUpdate<a class="headerlink" href="#iterationsbetweennblistlongupdate" title="Permalink to this headline">¶</a></h3>
<p>This parameter is currently not assignable through the control file.</p>
<p>Parameter: unsigned int iterationsBetweenNonBondingLongUpdate</p>
<p>Use: The list of non bonded long is updated every
iterationsBetweenNBlistLongUpdate.</p>
<p>Note for developers: Used, indirectly, in
OuterLoop::prepareForNextIteration().</p>
<p>Units: Dimensionless</p>
<p>Range: [1,inf)</p>
<p>Default value: 2</p>
<p>Plop info:</p>
<ul class="simple">
<li><p>Plop control file name: ‘niterup’</p></li>
<li><p>Plop parameter name: min_params%nfull</p></li>
<li><p>Plop default value: 2</p></li>
</ul>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Daniel Soler Viladrich

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>